{"version":3,"sources":["services/http-service.js","services/stay-service.js","store/actions/stay.actions.js","cmps/CityCard.jsx","cmps/ImageCarousel.jsx","cmps/StayRate.jsx","cmps/LongTxt.jsx","cmps/StayPreview.jsx","cmps/StayList.jsx","cmps/Loader.jsx","pages/Home.jsx","services/cloudinary-service.js","services/user-service.js","store/actions/user.actions.js","pages/LoginSignup.jsx","cmps/StayFilterStayType.jsx","cmps/StayFilterRules.jsx","cmps/StayFilterAmenities.jsx","cmps/StayFilterPriceSlider.jsx","cmps/StayFilter.jsx","pages/StayApp.jsx","cmps/AssetDetails.jsx","cmps/AvatarSymbol.jsx","cmps/GradientBtn.jsx","cmps/StayGuestModal.jsx","services/order-service.js","cmps/StayBookModal.jsx","store/actions/order.actions.js","cmps/Amenities.jsx","cmps/Reviews.jsx","cmps/GoogleMap.jsx","pages/StayDetails.jsx","cmps/AddStay.jsx","cmps/UserStays.jsx","cmps/HostHomes.jsx","cmps/StayTrips.jsx","cmps/Wishlist.jsx","cmps/HostOrdersPreview.jsx","cmps/HostOrders.jsx","pages/UserProfile.jsx","routes.js","cmps/StaySearch.jsx","cmps/AppHeader.jsx","cmps/Footer.jsx","App.jsx","store/reducers/stay.reducer.js","store/reducers/user.reducer.js","store/reducers/order.reducer.js","store/store.js","reportWebVitals.js","index.js"],"names":["BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","stayService","query","getById","save","remove","filterBy","id","stay","_id","getStays","price","amenities","dispatch","stays","type","setFilter","err","CityCard","title","imgUrl","onSelect","onClick","className","src","ImageCarousel","settings","dots","centerPadding","nextArrow","SampleNextArrow","prevArrow","SamplePrevArrow","imgsSrc","this","props","map","imgSrc","idx","alt","Component","style","right","left","zIndex","onHover","opacity","StayRate","isShowReviews","reviews","length","avgRate","reduce","sum","obj","rate","toString","split","toFixed","numOfReview","icon","faStar","LongTxt","txt","numOfChars","shortTxt","slice","StayPreview","to","imgUrls","loc","country","summary","StayList","Loader","Backdrop","open","CircularProgress","color","_Home","state","city","setState","history","push","scrollTo","document","body","classList","add","onscroll","pageYOffset","filterStays","citiesUrl","mapDispatchToProps","Home","connect","stayModule","cloudinaryService","uploadImg","ev","UPLOAD_URL","formData","FormData","append","target","files","fetch","then","json","catch","error","userService","login","logout","signup","getUsers","update","getLoggedinUser","userId","user","_saveLocalUser","userCred","newUser","isHost","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","users","onLogout","_LoginSignup","isSignup","isOpen","userInfo","fullname","username","password","credentials","handleClickToggle","handleChange","field","name","value","pic","onSubmitUser","preventDefault","onSignup","onLogin","onUpload","match","path","faUserCircle","size","onSubmit","htmlFor","onChange","userCreds","LoginSignup","userModule","StayFilterStayType","closePopover","filterAndClose","onFilter","ClickAwayListener","onClickAway","options","label","classNamePrefix","StayFilterRules","isPets","isSmoking","rules","rulesLabel","rule","Checkbox","checked","inputProps","StayFilterAmenities","tv","wifi","kitchen","accessibility","airConditioner","secured","fastFood","parking","aidKit","publicTransport","amenitiesLabel","amenity","StayFilterPriceSlider","minPrice","maxPrice","Slider","max","valueLabelDisplay","aria-labelledby","_StayFilter","StayFilter","_StayApp","onSetFilter","StayApp","AssetDetails","assetTypeDesc","houseRulesDesc","houseRules","faHome","faHandSparkles","faBook","useStyles","makeStyles","theme","width","spacing","height","AvatarSymbol","classes","Avatar","GradientBtn","x","y","handleMouseMove","e","clientX","clientY","mouseX","pageX","currentTarget","offsetLeft","mouseY","pageY","offsetTop","cssText","isReserveMode","onMouseMove","StayGuestModal","adults","children","orderService","orderId","calcDays","trip","loggedInUser","days","startDate","endDate","totalPrice","order","createdAt","Date","now","buyer","fullName","format","guests","host","firstDay","moment","diff","_StayBookModal","guest","isModalOpen","handleSubmit","enqueueSnackbar","variant","setTimeout","closeSnackbar","addOrder","hash","toggleModal","readOnly","displayFormat","startDateId","endDateId","onDatesChange","focusedInput","onFocusChange","startDatePlaceholderText","endDatePlaceholderText","noBorder","inputIconPosition","small","addedOrder","StayBookModal","withSnackbar","Amenities","faShieldAlt","faWifi","faParking","faBus","faPizzaSlice","faUtensils","faWheelchair","faSnowflake","faTv","faBriefcaseMedical","Modal","setAppElement","Reviews","modalIsOpen","review","onAddReview","closeModal","openModal","shortReviews","by","curTime","overlayClassName","Box","component","mb","borderColor","Rating","placeholder","faTimes","_GoogleMap","maxWidth","overflowX","overflowY","pos","lat","lng","google","zoom","initialCenter","center","position","GoogleMap","GoogleApiWrapper","apiKey","StayDetails","isShowMore","isOverChars","setStayDetails","capacity","address","faHeart","faChevronRight","AddStay","UserStays","HostHomes","StayTrips","orders","getStatusClassName","statusColor","Wishlist","HostOrdersPreview","updateOrder","defaultImgUrl","onSetStatus","updatedOrder","HostOrders","hostOrders","_UserProfile","getOrders","filter","sort","order1","order2","activeClassName","exact","render","routes","orderModule","_StaySearch","onSubmitStay","_d","handleSearchMini","addEventListener","closeHeaderOnclickMode","node","current","contains","removeEventListener","faSearch","autoComplete","StaySearch","_AppHeader","React","createRef","onToggleModal","ref","faCampground","faBars","AppHeader","Footer","_App","route","App","initialState","localLoggedinUser","loggedinUser","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","stayId","store","createStore","applyMiddleware","ReduxThunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","anchorOrigin","vertical","horizontal","TransitionComponent","Slide","preventDuplicate","maxSnack","getElementById"],"mappings":"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","file":"static/js/main.c4d9ee5e.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { httpService } from './http-service'\r\n\r\nexport const stayService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    remove,\r\n}\r\n\r\nasync function query(filterBy) {\r\n    try {\r\n        return await httpService.get('stay/', filterBy)\r\n    } catch (err) {\r\n        console.log('cant get stays', err)\r\n    }\r\n}\r\n\r\nasync function getById(id) {\r\n    try {\r\n        return await httpService.get(`stay/${id}`)\r\n    } catch (err) {\r\n        console.log('cant get stay', err)\r\n    }\r\n}\r\n\r\nasync function save(stay) {\r\n    try {\r\n        if (stay._id) {\r\n            return await httpService.put(`stay/${stay._id}`, stay)\r\n        } else {\r\n            return await httpService.post('stay/', stay)\r\n        }\r\n    } catch (err) {\r\n        console.log('cant save stay', err)\r\n    }\r\n}\r\n\r\nasync function remove(id) {\r\n    try {\r\n        return await httpService.delete(`stay/${id}`)\r\n    } catch (err) {\r\n        console.log('not authorized!', err)\r\n    }\r\n}","import { stayService } from '../../services/stay-service'\r\n\r\nexport function getStays(filterBy = { price: '', amenities: '' }) {\r\n    return async dispatch => {\r\n        try {\r\n            // console.log('getStays in front', getStays)\r\n            const stays = await stayService.query(filterBy)\r\n            dispatch({ type: 'SET_STAYS', stays })\r\n\r\n        } catch (err) {\r\n            console.log('StaysActions: err in getStays', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onSaveStay(stay) {\r\n    return async dispatch => {\r\n        try {\r\n            const savedStay = await stayService.save(stay)\r\n            console.log('STAY IN ACTION', savedStay)\r\n            dispatch({ type: stay._id ? 'UPDATE_STAY' : 'ADD_STAY', stay: savedStay })\r\n        } catch (err) {\r\n            console.log(`StaysActions: err in ${stay._id ? 'update stay' : 'add stay'}${err}`)\r\n        }\r\n    }\r\n}\r\n\r\nexport function onRemoveStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            await stayService.remove(stayId)\r\n            dispatch({ type: 'REMOVE_STAY', stayId })\r\n        } catch (err) {\r\n            console.log('StaysActions: err in removeStay', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setFilter(filterBy) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'SET_FILTER', filterBy })\r\n        } catch (err) {\r\n            console.log('StaysActions: err in getFilter', err)\r\n        }\r\n    }\r\n}","export function CityCard({ title, imgUrl, onSelect }) {\r\n\r\n    const url = `https://res.cloudinary.com/duhcvi6p4/image/upload/v1622304703/${imgUrl}.jpg`\r\n\r\n    return (\r\n        <div\r\n            onClick={() => onSelect(title)}\r\n            className={`${title}-card card`}\r\n        >\r\n            <div className=\"img-container\">\r\n                <img src={url} />\r\n            </div>\r\n            <div className={`bg-filter ${title}`}>\r\n                <h3>{title}</h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Component } from 'react'\r\nimport Slider from 'react-slick'\r\n\r\nimport 'slick-carousel/slick/slick.css'\r\nimport 'slick-carousel/slick/slick-theme.css'\r\n\r\nexport class ImageCarousel extends Component {\r\n\r\n    render() {\r\n        const settings = {\r\n            dots: true,\r\n            centerPadding: '20px',\r\n            nextArrow: <SampleNextArrow />,\r\n            prevArrow: <SamplePrevArrow />,\r\n\r\n        };\r\n        const { imgsSrc } = this.props\r\n\r\n        return (\r\n            <section className=\"image-carousel\">\r\n                <Slider {...settings}>\r\n\r\n                    {imgsSrc.map((imgSrc, idx) => {\r\n                        return (\r\n                            <div key={idx}>\r\n                                <img src={imgSrc} alt=\"house img\" />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </Slider>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction SampleNextArrow(props) {\r\n\r\n    const { className, style, onClick } = props;\r\n    return (\r\n        <div\r\n            className={className}\r\n            style={{ ...style, right: \"10px\", }}\r\n            onClick={onClick}\r\n        />\r\n    );\r\n}\r\n\r\nfunction SamplePrevArrow(props) {\r\n    const { className, style, onClick } = props;\r\n    return (\r\n        <div\r\n            className={className}\r\n            style={{ ...style, left: \"10px\", zIndex: 1, onHover: { opacity: 1 } }}\r\n            onClick={onClick}\r\n        />\r\n    );\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function StayRate({ stay, isShowReviews }) {\r\n\r\n    const reviews = stay.reviews ? stay.reviews.length : 0\r\n\r\n    let avgRate = stay.reviews ? stay.reviews.reduce((sum, obj) => {\r\n        return sum + obj.rate;\r\n    }, 0) / stay.reviews.length : 0\r\n\r\n    if (avgRate % 1 !== 0) { // if decimal\r\n        if (avgRate.toString().split(\".\")[1].length > 1)\r\n            avgRate = avgRate.toFixed(2)\r\n    }\r\n    const numOfReview = isShowReviews ? ' reviews' : ''\r\n\r\n    return (\r\n        <section className='stay-rate flex'>\r\n            <FontAwesomeIcon icon={faStar} />\r\n            <div>\r\n                {!avgRate && <span>New</span>}\r\n                {avgRate !== 0 && <span>{avgRate}\r\n                    <span className=\"num-of-review\">\r\n                        ({reviews + numOfReview})\r\n                    </span>\r\n                </span>}\r\n            </div>\r\n        </section>\r\n    )\r\n}","\r\nexport function LongTxt({ txt, numOfChars }) {\r\n    const dots = txt.length < numOfChars ? '' : '...'\r\n    const shortTxt = txt.slice(0, numOfChars) + dots\r\n    return <p className=\"long-txt\">{shortTxt}</p>\r\n}","import { Link } from 'react-router-dom'\r\nimport { ImageCarousel } from './ImageCarousel'\r\nimport { StayRate } from './StayRate.jsx'\r\nimport { LongTxt } from './LongTxt.jsx';\r\n\r\nexport function StayPreview({ stay }) {\r\n    return (\r\n        <section className=\"stay-preview\">\r\n            <Link to={`stay/${stay._id}`}>\r\n                <div className=\"stay-image-container\">\r\n                    <ImageCarousel imgsSrc={stay.imgUrls} />\r\n                </div>\r\n                <StayRate stay={stay} />\r\n                <p>{stay.type} in {stay.loc.country}</p>\r\n                <LongTxt txt={stay.summary} numOfChars={28} />\r\n                <p><span className=\"price\">${stay.price}</span> / night</p>\r\n            </Link>\r\n        </section>\r\n    )\r\n}","import { StayPreview } from './StayPreview.jsx'\r\n\r\nexport function StayList({ stays }) {\r\n    if (!stays) return <h1>reloading</h1>\r\n    return (\r\n        <section className=\"stay-list flex\">\r\n            {stays.map(stay => {\r\n                return <StayPreview\r\n                    stay={stay}\r\n                    key={stay._id}\r\n                />\r\n            })}\r\n        </section>\r\n    )\r\n}","import { Component } from 'react';\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     backdrop: {\r\n//         zIndex: theme.zIndex.drawer + 1,\r\n//         color: '#fff',\r\n//     },\r\n// }));\r\n\r\nexport class Loader extends Component {\r\n\r\n    render() {\r\n\r\n        // const classes = useStyles();\r\n        const open = true\r\n        // className={classes.backdrop}\r\n        return (\r\n            <div>\r\n                <Backdrop open={open}>\r\n                    <CircularProgress color=\"inherit\" />\r\n                </Backdrop>\r\n            </div>\r\n        );\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { getStays, setFilter } from '../store/actions/stay.actions'\r\n\r\nimport { CityCard } from '../cmps/CityCard.jsx'\r\nimport { StayList } from '../cmps/StayList.jsx'\r\nimport { Loader } from '../cmps/Loader.jsx'\r\n\r\nexport class _Home extends Component {\r\n\r\n    state = {\r\n        city: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        document.body.classList.add('header-home-mode-open')\r\n\r\n        window.onscroll = () => {\r\n            if (window.pageYOffset >= 85) {\r\n                document.body.classList.remove('header-home-mode-open')\r\n            } else {\r\n                document.body.classList.add('header-home-mode-open')\r\n                document.body.classList.remove('header-onclick-mode')\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.onscroll = null;\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    onSelect = async city => {\r\n        await this.setState({ city })\r\n        await this.props.setFilter(this.state)\r\n        this.props.history.push('/stay')\r\n    }\r\n\r\n    render() {\r\n\r\n        const filterStays = this.props.stays.slice(0, 5)\r\n\r\n        const cities = [\r\n            'amsterdam',\r\n            'paris',\r\n            'new-york',\r\n            'tokyo',\r\n            'london',\r\n            'barcelona'\r\n        ]\r\n\r\n        const citiesUrl = [\r\n            'amsterdam_nqxozm',\r\n            'paris_lljj5s',\r\n            'new-york_en6f3a',\r\n            'tokyo_cl5jez',\r\n            'london_ddezqi',\r\n            'barcelona_aq6xpb'\r\n        ]\r\n\r\n        if (!this.props.stays) return <Loader />\r\n\r\n        return (\r\n\r\n            <section className=\"stay-home main-container full\">\r\n                <div className=\"home-hero flex justify-center full\">\r\n                    <div className=\"hero-txt-container\">\r\n                        <h2>\r\n                            The best journey <br />\r\n                    takes you home.\r\n                    </h2>\r\n                        <Link to=\"/stay\">\r\n                            <button>Explore now!</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <h2>Popular locations</h2>\r\n\r\n                <div className=\"city-card-container\">\r\n                    {cities.map((city, idx) => {\r\n                        return <CityCard\r\n                            key={idx}\r\n                            onSelect={this.onSelect}\r\n                            title={city}\r\n                            imgUrl={citiesUrl[idx]}\r\n                        />\r\n                    })}\r\n                </div>\r\n\r\n                <div className=\"best-loc justify-center flex\">\r\n                    <div className=\"best-loc-header flex justify-space-between\">\r\n                        <h2>Top rated homes</h2>\r\n                        <Link to=\"/stay\">Show more</Link>\r\n                    </div>\r\n                    <div className=\"top-rated-container\">\r\n                        <StayList stays={filterStays} />\r\n                    </div>\r\n                </div>\r\n\r\n                <section>\r\n                    <h2>Homie's family</h2>\r\n                    <div className=\"become-host full\">\r\n                        <div className=\"host-container flex\">\r\n                            <div className=\"content-container flex\">\r\n                                <h2>Become a host</h2>\r\n                                <p>Earn extra income with Homie,\r\n                                <br /> join us and milion other hosts to unlock new opportunities, by sharing your space.<br />\r\n                                hosting can help you turn your extra space into extra income and pursue more of what you love.</p>\r\n                                <button>Join us now!</button>\r\n                            </div>\r\n                            <div className=\"img-container flex\"></div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n    setFilter\r\n}\r\n\r\nexport const Home = connect(mapStateToProps, mapDispatchToProps)(_Home)","export const cloudinaryService = {\r\n  uploadImg\r\n}\r\nfunction uploadImg(ev) {\r\n  const CLOUD_NAME = 'duhcvi6p4'\r\n  const PRESET_NAME = 'khbfu8ly'\r\n  const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n  const formData = new FormData();\r\n  \r\n  formData.append('file', ev.target.files[0])\r\n  formData.append('upload_preset', PRESET_NAME);\r\n\r\n  return fetch(UPLOAD_URL, {\r\n    method: 'POST',\r\n    body: formData\r\n  })\r\n    .then(res => res.json())\r\n    .then(res => {\r\n\r\n      return res\r\n    })\r\n    .catch(err => console.error(err))\r\n}\r\n","import { httpService } from './http-service'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n}\r\n\r\nasync function getUsers() {\r\n    try {\r\n        return await httpService.get(`user`)\r\n    } catch (err) {\r\n        console.log('cant get users', err)\r\n    }\r\n}\r\n\r\nasync function getById(userId) {\r\n    try {\r\n        return await httpService.get(`user/${userId}`)\r\n    } catch (err) {\r\n        console.log('cant get user', err)\r\n    }\r\n}\r\n\r\nasync function remove(userId) {\r\n    try {\r\n        return await httpService.delete(`user/${userId}`)\r\n    } catch (err) {\r\n        console.log('not authorized!', err)\r\n    }\r\n}\r\n\r\nasync function update(user) {\r\n    try {\r\n        const user = await httpService.put(`user/${user._id}`, user)\r\n        // Handle case in which admin updates other user's details\r\n        if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n    } catch (err) {\r\n        console.log('cant update', err)\r\n    }\r\n}\r\n\r\nasync function login(userCred) {\r\n    try {\r\n        const user = await httpService.post('auth/login', userCred)\r\n        if (user) return _saveLocalUser(user)\r\n    } catch (err) {\r\n        console.log('user not found', err)\r\n    }\r\n}\r\n\r\nasync function signup(userCred) {\r\n    try {\r\n        const newUser = {\r\n            ...userCred,\r\n            isHost: false,\r\n            imgUrl: 'https://ozgrozer.github.io/100k-faces/0/0/000924.jpg'\r\n        }\r\n\r\n        const user = await httpService.post('auth/signup', newUser)\r\n        return _saveLocalUser(user)\r\n    } catch (err) {\r\n        console.log('cant add new user', err)\r\n    }\r\n}\r\n\r\nasync function logout() {\r\n    try {\r\n        sessionStorage.clear()\r\n        return await httpService.post('auth/logout')\r\n    } catch (err) {\r\n        console.log('no loged user', err)\r\n    }\r\n}\r\n\r\n// async function onBecomeHost(user) {\r\n\r\n// }\r\n\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}","import { userService } from '../../services/user-service'\r\n\r\nexport function getUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function onRemoveUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onLogin(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onSignup(userCreds) {\r\n\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\n\r\nexport function onLogout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}","import React from 'react'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { cloudinaryService } from '../services/cloudinary-service'\r\nimport { getUsers, onLogout, onSignup, onLogin } from '../store/actions/user.actions'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass _LoginSignup extends Component {\r\n\r\n    state = {\r\n        isSignup: '',\r\n        isOpen: false,\r\n        userInfo: {\r\n            fullname: '',\r\n            username: '',\r\n            password: '',\r\n            imgUrl: ''\r\n        },\r\n        credentials: {\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const isSignup = this.props.match.path === '/login' ? 'login' : 'signup'\r\n        this.setState({ isSignup })\r\n        this.props.getUsers()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    handleClickToggle = () => {\r\n        this.setState({ isOpen: !this.state.isOpen })\r\n    }\r\n\r\n    handleChange = async (ev) => {\r\n        \r\n        const { target } = ev\r\n        const field = target.name\r\n        const value = target.value\r\n        const { isSignup, credentials, userInfo } = this.state\r\n\r\n        if (isSignup === 'login') {\r\n            this.setState({ credentials: { ...credentials, [field]: value } })\r\n        } else {\r\n\r\n            this.setState({ userInfo: { ...userInfo, [field]: value } })\r\n\r\n            if (target.type === 'file') {\r\n                const pic = await cloudinaryService.uploadImg(ev)\r\n                this.setState({ userInfo: { ...userInfo, imgUrl: pic.url } })\r\n            }\r\n        }\r\n    }\r\n\r\n    onSubmitUser = async ev => {\r\n        ev.preventDefault()\r\n\r\n        const {\r\n            isSignup,\r\n            userInfo,\r\n            credentials\r\n        } = this.state\r\n\r\n        const { onSignup, onLogin } = this.props\r\n\r\n        isSignup === 'login' ? onLogin(credentials) : onSignup(userInfo)\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    onUpload = async ev => {\r\n        const pic = await cloudinaryService.uploadImg(ev)\r\n        this.setState({ imgUrl: pic.url })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isSignup } = this.state\r\n\r\n        return (\r\n            <div className=\"log-page-container flex align-center justify-center full\">\r\n                <div className=\"form-filter\"></div>\r\n                { isSignup === 'signup' &&\r\n                    <section className=\"sign-up flex\">\r\n                        <FontAwesomeIcon icon={faUserCircle} size=\"3x\" />\r\n                        <form\r\n                            className=\"flex\"\r\n                            onSubmit={this.onSubmitUser}\r\n                        >\r\n                            <label htmlFor=\"fullname\">Fullname</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"text\"\r\n                                name=\"fullname\"\r\n                                id=\"fullname\"\r\n                            />\r\n\r\n                            <label htmlFor=\"username\">Username</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                            />\r\n\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                id=\"password\"\r\n                            />\r\n\r\n                            <div className=\"btn-container flex \">\r\n                                <div className=\"btn-upload\">\r\n                                    <label name=\"img-upload\" htmlFor=\"upload\">\r\n                                        upload your image\r\n                                    </label>\r\n                                    <input\r\n                                        id=\"upload\"\r\n                                        type=\"file\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                <button className=\"btn\">Submit</button>\r\n                            </div>\r\n                        </form>\r\n                    </section>}\r\n\r\n                { isSignup === 'login' &&\r\n                    <section className=\"log-in flex\">\r\n                        <FontAwesomeIcon icon={faUserCircle} size=\"3x\" />\r\n                        <form\r\n                            onSubmit={this.onSubmitUser}\r\n                            className=\"flex\"\r\n                        >\r\n                            <label htmlFor=\"username\">Username</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                            />\r\n\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                id=\"password\"\r\n                            />\r\n\r\n                            <button className=\"btn\">Submit</button>\r\n                        </form>\r\n                    </section>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: state.userModule.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getUsers,\r\n    onLogout,\r\n    onSignup,\r\n    onLogin\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { Component } from 'react'\r\nimport Select from 'react-select'\r\n\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterStayType extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const options = [\r\n            { value: '', label: 'Any kind' },\r\n            { value: 'Apartment', label: 'Apartment' },\r\n            { value: 'Entire home', label: 'Entire home' },\r\n            { value: 'Studio', label: 'Studio' },\r\n            { value: 'Shared apartment', label: 'Shared apartment' }\r\n        ]\r\n\r\n        return (\r\n            <div className=\"popover-container-staytype\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    Stay type\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <div className=\"stay-filter-popover flex column\">\r\n                            <h4>4 types of compounds at your service.</h4>\r\n                            <Select\r\n                                options={options}\r\n                                onChange={this.props.handleChange}\r\n                                classNamePrefix=\"select\"\r\n                                className=\"basic-single\"\r\n                            />\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                        </button>\r\n                        </div>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Checkbox } from '@material-ui/core'\r\n\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterRules extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const { isPets, isSmoking, handleChange } = this.props\r\n\r\n        const rules = [isPets, isSmoking]\r\n        const rulesLabel = ['Allow pets', 'Allow smoking']\r\n        const rulesNames = ['isPets', 'isSmoking']\r\n\r\n        return (\r\n            <div className=\"popover-container-houserules\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    House rules\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <form className=\"stay-filter-popover flex column\">\r\n                            {rulesNames.map((rule, idx) => {\r\n                                return <label\r\n                                    key={idx}\r\n                                    htmlFor={`${rule}-id`}\r\n                                >\r\n                                    <Checkbox\r\n                                        id={`${rule}-id`}\r\n                                        name={rule}\r\n                                        onChange={handleChange}\r\n                                        checked={rules[idx]}\r\n                                        inputProps={{ 'aria-label': 'controlled-checkbox' }}\r\n                                        color=\"default\"\r\n                                    />\r\n                                    {rulesLabel[idx]}\r\n                                </label>\r\n                            })}\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                            </button>\r\n                        </form>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Checkbox } from '@material-ui/core'\r\n\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterAmenities extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            tv,\r\n            wifi,\r\n            kitchen,\r\n            accessibility,\r\n            airConditioner,\r\n            secured,\r\n            fastFood,\r\n            parking,\r\n            aidKit,\r\n            publicTransport,\r\n        } = this.props\r\n\r\n        const amenitiesName = [\r\n            'tv',\r\n            'wifi',\r\n            'kitchen',\r\n            'accessibility',\r\n            'airConditioner',\r\n            'secured',\r\n            'fastFood',\r\n            'parking',\r\n            'aidKit',\r\n            'publicTransport',\r\n        ]\r\n\r\n        const amenitiesLabel = [\r\n            'Tv',\r\n            'Wifi',\r\n            'Kitchen',\r\n            'Accessibility',\r\n            'Air conditioner',\r\n            'Secured',\r\n            'Fast food',\r\n            'Parking',\r\n            'Aid Kit',\r\n            'Public transport',\r\n        ]\r\n\r\n        const amenities = [\r\n            tv,\r\n            wifi,\r\n            kitchen,\r\n            accessibility,\r\n            airConditioner,\r\n            secured,\r\n            fastFood,\r\n            parking,\r\n            aidKit,\r\n            publicTransport,\r\n        ]\r\n\r\n        return (\r\n            <div className=\"popover-container-amenities\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    Amenities\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <form className=\"stay-filter-popover flex column\">\r\n                            <div className=\"amenities-grid\">\r\n                                {amenitiesName.map((amenity, idx) => {\r\n                                    return <label\r\n                                        key={idx}\r\n                                        htmlFor={`${amenity}-id`}\r\n                                    >\r\n                                        <Checkbox\r\n                                            id={`${amenity}-id`}\r\n                                            name={amenity}\r\n                                            onChange={this.props.handleChange}\r\n                                            inputProps={{ 'aria-label': 'checkbox with default color' }}\r\n                                            color=\"default\"\r\n                                            checked={amenities[idx]}\r\n                                        />\r\n                                        {amenitiesLabel[idx]}\r\n                                    </label>\r\n                                })}\r\n                            </div>\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                            </button>\r\n                        </form>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Slider } from '@material-ui/core'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nexport class StayFilterPriceSlider extends Component {\r\n\r\n    state = {\r\n        isOpen: false,\r\n    }\r\n\r\n    closePopover = () => {\r\n        this.setState({ isOpen: false })\r\n    }\r\n\r\n    filterAndClose = ev => {\r\n        this.props.onFilter(ev)\r\n        this.closePopover()\r\n    }\r\n\r\n    render() {\r\n\r\n        const { minPrice, maxPrice, handleChange } = this.props\r\n        const value = [minPrice, maxPrice]\r\n        const max = 1500\r\n\r\n        return (\r\n            <div className=\"popover-container-priceslider\">\r\n                <button\r\n                    className=\"btn-group-button\"\r\n                    onClick={() => this.setState({ isOpen: true })}\r\n                >\r\n                    Price\r\n                </button>\r\n                {this.state.isOpen &&\r\n                    <ClickAwayListener onClickAway={this.closePopover}>\r\n                        <div className=\"stay-filter-popover flex column\">\r\n                            <h4>The average nightly price is $652.</h4>\r\n                            <Slider\r\n                                max={max}\r\n                                value={value}\r\n                                onChange={handleChange}\r\n                                valueLabelDisplay=\"on\"\r\n                                aria-labelledby=\"range-slider\"\r\n                            />\r\n                            <div className=\"separator\"></div>\r\n                            <button\r\n                                className=\"save-filter-btn\"\r\n                                onClick={(ev) => this.filterAndClose(ev)}\r\n                            >\r\n                                Save\r\n                            </button>\r\n                        </div>\r\n                    </ClickAwayListener>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { setFilter, getStays } from '../store/actions/stay.actions'\r\n\r\nimport { StayFilterStayType } from './StayFilterStayType.jsx'\r\nimport { StayFilterRules } from './StayFilterRules.jsx'\r\nimport { StayFilterAmenities } from './StayFilterAmenities.jsx'\r\nimport { StayFilterPriceSlider } from './StayFilterPriceSlider.jsx'\r\n\r\nclass _StayFilter extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            type: '',\r\n            minPrice: 0,\r\n            maxPrice: 1500,\r\n            isPets: false,\r\n            isSmoking: false,\r\n            tv: false,\r\n            wifi: false,\r\n            kitchen: false,\r\n            accessibility: false,\r\n            airConditioner: false,\r\n            secured: false,\r\n            fastFood: false,\r\n            parking: false,\r\n            aidKit: false,\r\n            publicTransport: false,\r\n        }\r\n    }\r\n\r\n    handleChange = (ev, price) => {\r\n\r\n        const filterBy = this.state.filterBy\r\n        let value;\r\n        let field;\r\n\r\n        if (ev.label) {\r\n            this.setState({\r\n                filterBy: { ...filterBy, type: ev.value }\r\n            })\r\n            return\r\n        }\r\n        if (price && ev.type === \"mousemove\") {\r\n            const [minPrice, maxPrice] = price\r\n            this.setState({\r\n                filterBy: { ...filterBy, minPrice, maxPrice }\r\n            })\r\n            return\r\n        }\r\n\r\n        value = ev.target.value\r\n        field = ev.target.name\r\n\r\n        if (ev.target.checked) value = ev.target.checked\r\n\r\n        this.setState({\r\n            filterBy: { ...filterBy, [field]: value }\r\n        })\r\n    }\r\n\r\n    onFilter = async ev => {\r\n        ev.preventDefault()\r\n        await this.props.setFilter(this.state.filterBy)\r\n        this.props.getStays(this.props.filterBy)\r\n    }\r\n\r\n    render() {\r\n    \r\n        const { filterBy } = this.state\r\n        const {\r\n            type,\r\n            minPrice,\r\n            maxPrice,\r\n            isPets,\r\n            isSmoking,\r\n            tv,\r\n            wifi,\r\n            kitchen,\r\n            accessibility,\r\n            airConditioner,\r\n            secured,\r\n            fastFood,\r\n            parking,\r\n            aidKit,\r\n            publicTransport,\r\n        } = filterBy\r\n\r\n        const city = this.props.filterBy.city\r\n\r\n        return (\r\n            <section className=\"stay-filter\">\r\n                <h2 className=\"filter-header\">\r\n                    {city ? `Stays in ${city}` : 'Our Stays'}\r\n                </h2>\r\n                <div className=\"btn-group flex\">\r\n\r\n                    <StayFilterPriceSlider\r\n                        minPrice={minPrice}\r\n                        maxPrice={maxPrice}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n\r\n                    <StayFilterStayType\r\n                        type={type}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n\r\n                    <StayFilterRules\r\n                        isPets={isPets}\r\n                        isSmoking={isSmoking}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n\r\n                    <StayFilterAmenities\r\n                        tv={tv}\r\n                        wifi={wifi}\r\n                        kitchen={kitchen}\r\n                        accessibility={accessibility}\r\n                        airConditioner={airConditioner}\r\n                        secured={secured}\r\n                        fastFood={fastFood}\r\n                        parking={parking}\r\n                        aidKit={aidKit}\r\n                        publicTransport={publicTransport}\r\n                        handleChange={this.handleChange}\r\n                        onFilter={this.onFilter} />\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setFilter,\r\n    getStays\r\n}\r\n\r\nexport const StayFilter = connect(mapStateToProps, mapDispatchToProps)(_StayFilter)","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { StayList } from '../cmps/StayList.jsx'\r\nimport { StayFilter } from '../cmps/StayFilter.jsx'\r\nimport { getStays } from '../store/actions/stay.actions'\r\n\r\nimport { Loader } from '../cmps/Loader.jsx'\r\n\r\nexport class _StayApp extends Component {\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n        this.props.getStays(this.props.filterBy)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    onSetFilter = (filterBy) => {\r\n        this.props.getStays(filterBy)\r\n    }\r\n\r\n    render() {\r\n        const { stays } = this.props\r\n        if (!stays) return <Loader />\r\n\r\n        return (\r\n            <section className=\"stay-app\">\r\n                <StayFilter onSetFilter={this.onSetFilter} />\r\n                <StayList stays={stays} />\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        filterBy: state.stayModule.filterBy\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n}\r\n\r\nexport const StayApp = connect(mapStateToProps, mapDispatchToProps)(_StayApp)","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHandSparkles, faHome, faBook } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function AssetDetails({ type, houseRules }) {\r\n\r\n    let assetTypeDesc\r\n    let houseRulesDesc\r\n\r\n    switch (type) {\r\n        case 'Entire home':\r\n            assetTypeDesc = 'You’ll have the whole compound to yourself.'\r\n            break;\r\n        case 'Apartment':\r\n            assetTypeDesc = 'Private room, cuzy and sweet.'\r\n        case 'Studio':\r\n            assetTypeDesc = 'Enjoy private room with a lot of space.'\r\n            break;\r\n        case 'Shared apartment':\r\n            assetTypeDesc = 'Sharing is caring, when individuals become a group.'\r\n            break;\r\n    }\r\n\r\n    if (houseRules.isSmoking && houseRules.isPets) {\r\n        houseRulesDesc = 'Host Allow smoking and pets in the compound.'\r\n    } else if (houseRules.isSmoking && !houseRules.isPets) {\r\n        houseRulesDesc = 'Host Allow smoking but pets is not a good idea.'\r\n    } else {\r\n        houseRulesDesc = 'Host doesn’t allow pets or smoking around the compound.'\r\n    }\r\n\r\n    return (\r\n        <div className=\"about-asset-container\">\r\n            <div>\r\n                <FontAwesomeIcon icon={faHome} size=\"2x\" />\r\n                <div>\r\n                    <h4>{type}</h4>\r\n                    <p>{assetTypeDesc}</p>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <FontAwesomeIcon icon={faHandSparkles} size=\"2x\" />\r\n                <div>\r\n                    <h4>Enhanced Clean</h4>\r\n                    <p>This host committed to Airdod's 5-step enhanced cleaning process.</p>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <FontAwesomeIcon icon={faBook} size=\"2x\" />\r\n                <div>\r\n                    <h4>House rules</h4>\r\n                    <p>{houseRulesDesc}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import Avatar from '@material-ui/core/Avatar'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    size: {\r\n        width: theme.spacing(7),\r\n        height: theme.spacing(7),\r\n    },\r\n}))\r\n\r\nexport function AvatarSymbol({ url }) {\r\n    const classes = useStyles()\r\n    if (!url) url = \"https://100k-faces.glitch.me/random-image\"\r\n    return (\r\n        <Avatar className={classes.size} src={url} />\r\n    )\r\n}","import { Component } from 'react'\r\n\r\nexport class GradientBtn extends Component {\r\n\r\n    state = {\r\n        x: 0,\r\n        y: 0\r\n    };\r\n\r\n    handleMouseMove = e => {\r\n        this.setState({\r\n            x: e.clientX,\r\n            y: e.clientY\r\n        });\r\n\r\n        const mouseX = e.pageX - e.currentTarget.offsetLeft;\r\n        const mouseY = e.pageY - e.currentTarget.offsetTop;\r\n        e.currentTarget.style.cssText = `\r\n            --mouse-x: ${mouseX}; \r\n            --mouse-y: ${mouseY};\r\n            `;\r\n    };\r\n\r\n    render() {\r\n        const { isReserveMode } = this.props;\r\n        const txt = isReserveMode ? 'Reserve' : 'Check availability'\r\n        return (\r\n\r\n            <button className=\"gradientBtn\" onMouseMove={this.handleMouseMove}>\r\n                {txt}\r\n            </button>\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\n\r\nexport class StayGuestModal extends Component {\r\n\r\n    render() {\r\n        const { adults, children } = this.props\r\n\r\n        return (\r\n            <div className=\"stay-guest-modal\">\r\n                <div className=\"flex justify-space-between align-center\">\r\n                    <p>Adults</p>\r\n                    <div className=\"change-adult flex align-center\">\r\n\r\n                        <button\r\n                            name=\"adults\"\r\n                            value={adults - 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            -\r\n                        </button>\r\n\r\n                        <div>{adults}</div>\r\n\r\n                        <button\r\n                            name=\"adults\"\r\n                            value={adults + 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            +\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex justify-space-between align-center\">\r\n                    <p>Children</p>\r\n                    <div className=\"change-child flex align-center\">\r\n                        <button\r\n                            name=\"children\"\r\n                            value={children - 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            -\r\n                        </button>\r\n\r\n                        <div>{children}</div>\r\n\r\n                        <button\r\n                            name=\"children\"\r\n                            value={children + 1}\r\n                            onClick={this.props.handleChange}\r\n                        >\r\n                            +\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import { httpService } from './http-service'\r\nimport moment from 'moment'\r\n\r\n\r\nexport const orderService = {\r\n    query,\r\n    remove,\r\n    add,\r\n    update,\r\n    calcDays\r\n}\r\n\r\nasync function query(user = { _id: null, type: 'user' }) {\r\n    try {\r\n        return await httpService.get(`order`, user)\r\n    } catch (err) {\r\n        console.log('cant get orders', err)\r\n    }\r\n}\r\n\r\nasync function add(trip, stay, loggedInUser) {\r\n    const days = calcDays(trip.startDate, trip.endDate)\r\n    const totalPrice = stay.price * days + 10\r\n    const order = {\r\n        // _id: utilService.makeId(),\r\n        createdAt: Date.now(),\r\n        buyer: {\r\n            _id: loggedInUser._id,\r\n            fullName: loggedInUser.fullname,\r\n            imgUrl: loggedInUser.imgUrl\r\n        },\r\n        totalPrice,\r\n        city: stay.loc.city,\r\n        startDate: trip.startDate.format('YYYY-MM-DD'),\r\n        endDate: trip.endDate.format('YYYY-MM-DD'),\r\n        guests: {\r\n            adults: trip.adults,\r\n            children: trip.children,\r\n        },\r\n        stay: {\r\n            _id: stay._id,\r\n            name: stay.name,\r\n            price: stay.price\r\n        },\r\n        host: stay.host,\r\n        status: 'pending',\r\n    }\r\n    return await httpService.post(`order`, order)\r\n}\r\n\r\nfunction remove(orderId) {\r\n    try {\r\n        return httpService.delete(`order/${orderId}`)\r\n    } catch (err) {\r\n        console.log('not authorized!', err)\r\n    }\r\n}\r\n\r\nasync function update(order) {\r\n    return await httpService.put(`order/${order._id}`, order)\r\n}\r\n\r\nfunction calcDays(startDate, endDate) {\r\n    const firstDay = moment(startDate.format('YYYY-MM-DD'))\r\n    const lastDay = moment(endDate.format('YYYY-MM-DD'))\r\n    const days = lastDay.diff(firstDay, 'days') + 1\r\n    return days;\r\n}\r\n","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { StayRate } from './StayRate.jsx'\r\nimport { GradientBtn } from './GradientBtn.jsx'\r\nimport { StayGuestModal } from './StayGuestModal.jsx'\r\nimport { DateRangePicker } from 'react-dates'\r\nimport { withSnackbar } from 'notistack'\r\nimport { addOrder } from '../store/actions/order.actions'\r\nimport { orderService } from '../services/order-service'\r\nimport moment from 'moment'\r\n\r\nclass _StayBookModal extends Component {\r\n    state = {\r\n        trip: {\r\n            startDate: '',\r\n            endDate: '',\r\n            adults: 1,\r\n            children: 0,\r\n        },\r\n        filterBy: {\r\n            guest: 1\r\n        },\r\n        isModalOpen: false,\r\n        isReserveMode: false,\r\n    }\r\n\r\n    handleSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const { startDate, endDate } = this.state.trip\r\n        const { loggedInUser, stay } = this.props\r\n        // TODO: validate user is logged in\r\n        // if (loggedInUser) console.log('loggedInUser', loggedInUser)\r\n        if (startDate && startDate !== '' && endDate && !this.state.isReserveMode) {\r\n            this.setState({ ...this.state, isReserveMode: true })\r\n            return\r\n        } else if (startDate && startDate && this.state.isReserveMode) {\r\n\r\n            this.props.enqueueSnackbar('Your order received.', {\r\n                variant: 'success',\r\n            })\r\n            setTimeout(() => this.props.closeSnackbar(), 3000)\r\n            const trip = { ...this.state.trip }\r\n            this.props.addOrder(trip, stay, loggedInUser);\r\n            window.location.hash = '/'\r\n        } else {\r\n            this.props.enqueueSnackbar('Please enter all fields.', {\r\n                variant: 'error',\r\n            })\r\n            setTimeout(() => this.props.closeSnackbar(), 3000)\r\n        }\r\n    }\r\n\r\n    toggleModal = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isModalOpen: !this.state.isModalOpen })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        ev.preventDefault()\r\n        const { name, value } = ev.target\r\n        this.setState({ ...this.state, trip: { ...this.state.trip, [name]: + value } })\r\n    }\r\n\r\n    render() {\r\n        const { stay } = this.props\r\n        const { isModalOpen, isReserveMode } = this.state\r\n        const { adults, children, startDate, endDate } = this.state.trip\r\n        let days = 1\r\n\r\n        if (!stay) return <p>Loading</p>\r\n        if (startDate && endDate) days = orderService.calcDays(startDate, endDate)\r\n\r\n        return (\r\n            <section className=\"stay-book-modal\">\r\n                <div className=\"modal-header\">\r\n                    <p>\r\n                        <span className=\"price\">\r\n                            ${stay.price}\r\n                        </span> / night\r\n                    </p>\r\n                    <StayRate stay={stay} />\r\n                </div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <span className=\"check\">CHECK IN</span>\r\n                    <span className=\"check\">CHECK OUT</span>\r\n                    <div className=\"form-select\">\r\n                        <div className=\"date-container\">\r\n\r\n                            <DateRangePicker\r\n                                readOnly\r\n                                displayFormat=\"MM-DD-YYYY\"\r\n                                startDateId=\"your_unique_start_date_id\"\r\n                                startDate={this.state.trip.startDate}\r\n                                endDate={this.state.trip.endDate}\r\n                                endDateId=\"your_unique_end_date_id\"\r\n\r\n                                onDatesChange={({ startDate, endDate }) => this.setState({\r\n                                    ...this.state, trip: { ...this.state.trip, startDate, endDate }\r\n                                })}\r\n\r\n                                focusedInput={this.state.focusedInput}\r\n                                onFocusChange={focusedInput => this.setState({ focusedInput })}\r\n                                // startDatePlaceholderText=\"check in\"\r\n                                // endDatePlaceholderText=\"check out\"\r\n                                startDatePlaceholderText=\"Add date\"\r\n                                endDatePlaceholderText=\"Add date\"\r\n                                noBorder\r\n                                inputIconPosition=\"after\"\r\n                                small\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"guest-container\">\r\n                            <span className=\"guests\">GUESTS</span>\r\n                            <button\r\n                                className=\"btn-guests\"\r\n                                onClick={this.toggleModal}\r\n                            >\r\n                                {this.state.trip.adults + this.state.trip.children}\r\n                            </button>\r\n\r\n                            {isModalOpen && <StayGuestModal\r\n                                handleChange={this.handleChange}\r\n                                adults={adults}\r\n                                children={children}\r\n                            />}\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <GradientBtn isReserveMode={isReserveMode} />\r\n\r\n                    {isReserveMode &&\r\n                        <div className=\"reserve-mode\">\r\n                            <p>You won't be charged yet</p>\r\n                            <div>\r\n                                <span>${stay.price} x {days} nights</span>\r\n                                <span>${stay.price * days}</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Service fee</span>\r\n                                <span>$</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Occupancy taxes and fees</span>\r\n                                <span>$10</span>\r\n                            </div>\r\n                            <div>\r\n                                <span>Total</span>\r\n                                <span>${stay.price * days + 10}</span>\r\n                            </div>\r\n                        </div>}\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addOrder\r\n}\r\n\r\nexport const StayBookModal = connect(mapStateToProps, mapDispatchToProps)(withSnackbar(_StayBookModal));","import { orderService } from '../../services/order-service'\r\n\r\nexport function getOrders(user) {\r\n    return async dispatch => {\r\n        try {\r\n            const orders = await orderService.query(user)\r\n            dispatch({ type: 'SET_ORDERS', orders })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in getOrders', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function addOrder(trip, stay, loggedInUser) {\r\n    return async dispatch => {\r\n        try {\r\n            const addedOrder = await orderService.add(trip, stay, loggedInUser)\r\n            console.log('addedOrder', addedOrder)\r\n            dispatch({ type: 'ADD_ORDER', order: addedOrder })\r\n\r\n        } catch (err) {\r\n            console.log('OrderActions: err in addOrder', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateOrder(order) {\r\n    return async dispatch => {\r\n        try {\r\n            const updatedOrder = await orderService.update(order)\r\n            dispatch({ type: 'UPDATE_ORDER', order: updatedOrder })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in update Order', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeOrder(orderId) {\r\n    return async dispatch => {\r\n        try {\r\n            await orderService.remove(orderId)\r\n            dispatch({ type: 'REMOVE_ORDER', orderId })\r\n        } catch (err) {\r\n            console.log('OrderActions: err in removeOrder', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {\r\n    faShieldAlt,\r\n    faWifi,\r\n    faParking,\r\n    faBus,\r\n    faPizzaSlice,\r\n    faTv,\r\n    faUtensils,\r\n    faSnowflake,\r\n    faWheelchair,\r\n    faBriefcaseMedical\r\n} from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport function Amenities({ amenities }) {\r\n\r\n    const {\r\n        accessibility,\r\n        aidKit,\r\n        airConditioner,\r\n        fastFood,\r\n        kitchen,\r\n        parking,\r\n        publicTransport,\r\n        secured,\r\n        tv,\r\n        wifi,\r\n    } = amenities\r\n\r\n    return (\r\n        <div className=\"amenities-container flex column\">\r\n            <h2>Amenities</h2>\r\n            <div className=\"flex\">\r\n                <div className=\"flex column\">\r\n                    <div className={`amenity-container flex align-center ${!secured && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faShieldAlt} size=\"2x\" />\r\n                        <span>Compound is perfectly secured.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!wifi && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faWifi} size=\"2x\" />\r\n                        <span>Free Wi-fi.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!parking && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faParking} size=\"2x\" />\r\n                        <span>Free street parking.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!publicTransport && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faBus} size=\"2x\" />\r\n                        <span>Public Transport on the street.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!fastFood && 'missing'} first`}>\r\n                        <FontAwesomeIcon icon={faPizzaSlice} size=\"2x\" />\r\n                        <span>Very close to fast food stores.</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex column second\">\r\n                    <div className={`amenity-container flex align-center ${!kitchen && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faUtensils} size=\"2x\" />\r\n                        <span>Kitchen.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!accessibility && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faWheelchair} size=\"2x\" />\r\n                        <span>Accessibility services.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!airConditioner && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faSnowflake} size=\"2x\" />\r\n                        <span>Air conditioner, hot and cold.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!tv && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faTv} size=\"2x\" />\r\n                        <span>TV with standard cable.</span>\r\n                    </div>\r\n                    <div className={`amenity-container flex align-center ${!aidKit && 'missing'}`}>\r\n                        <FontAwesomeIcon icon={faBriefcaseMedical} size=\"2x\" />\r\n                        <span>Aid kit for emergency.</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { AvatarSymbol } from './AvatarSymbol.jsx'\r\nimport { StayRate } from './StayRate.jsx'\r\n\r\nimport Rating from '@material-ui/lab/Rating'\r\nimport Box from '@material-ui/core/Box'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport Modal from 'react-modal'\r\nModal.setAppElement('#root')\r\n\r\nexport class Reviews extends Component {\r\n\r\n    state = {\r\n        modalIsOpen: false,\r\n        review: {\r\n            rate: null,\r\n            summary: ''\r\n        }\r\n    }\r\n\r\n    handleChange = ev => {\r\n        const field = ev.target.name\r\n        const value = ev.target.name === 'rate' ? +ev.target.value : ev.target.value\r\n        this.setState({ review: { ...this.state.review, [field]: value } })\r\n    }\r\n\r\n    onAddReview = ev => {\r\n        ev.preventDefault()\r\n    }\r\n\r\n    closeModal = ev => {\r\n        if ( ev.x > 495 && ev.x < 1023) return\r\n        this.setState({ modalIsOpen: false })\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({ modalIsOpen: true })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { reviews, stay } = this.props\r\n        const shortReviews = reviews.slice(0, 4)\r\n        return (\r\n            <div className=\"reviews-container\">\r\n                <StayRate\r\n                    stay={stay}\r\n                    isShowReviews={true}\r\n                />\r\n                <div>\r\n                    {reviews && shortReviews.map((review, idx) => {\r\n                        return <div key={idx} className=\"review-container flex column\">\r\n                            <div className=\"review-writer-container flex align-center\">\r\n                                <div>\r\n                                    <AvatarSymbol url={review.by.imgUrl} />\r\n                                </div>\r\n                                <div className=\"review-writer flex column\">\r\n                                    <span>{review.by.fullname}</span>\r\n                                    <span>{this.state.curTime}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <p>{review.txt}</p>\r\n                            </div>\r\n                        </div>\r\n                    })}\r\n                </div>\r\n\r\n                <button onClick={this.openModal}>Add review</button>\r\n\r\n                <Modal\r\n                    isOpen={this.state.modalIsOpen}\r\n                    className=\"review-modal\"\r\n                    overlayClassName=\"review-modal-overlay\"\r\n                >\r\n                    <h2>Add review</h2>\r\n                    <div className=\"review-writer-modal flex align-center\">\r\n                        <div>\r\n                            <AvatarSymbol />\r\n                        </div>\r\n                        <div className=\"review-writer-modal-details flex column\">\r\n                            <span>Asi ho gaon</span>\r\n                        </div>\r\n                    </div>\r\n                    <ClickAwayListener onClickAway={this.closeModal}>\r\n\r\n                        <form>\r\n                            <Box\r\n                                className=\"flex column\"\r\n                                component=\"fieldset\"\r\n                                mb={3}\r\n                                borderColor=\"transparent\"\r\n                            >\r\n                                <label\r\n                                    className=\"rating-box-label\"\r\n                                    htmlFor=\"review-rating\">Rate the host:</label>\r\n                                <Rating\r\n                                    id=\"review-rating\"\r\n                                    name=\"rate\"\r\n                                    value={this.state.review.rate}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </Box>\r\n                            <div className=\"flex column\">\r\n                                <label htmlFor=\"review-textarea\">Summary:</label>\r\n                                <textarea\r\n                                    id=\"review-textarea\"\r\n                                    onChange={this.handleChange}\r\n                                    type=\"text\"\r\n                                    name=\"summary\"\r\n                                    value={this.state.review.summary}\r\n                                    placeholder=\"Describe your expirience.\" />\r\n                            </div>\r\n                            <button\r\n                                onClick={this.onAddReview}\r\n                                className=\"add-review-btn\"\r\n                            >Add</button>\r\n                        </form>\r\n                    </ClickAwayListener>\r\n\r\n                    <button className=\"exit-modal-btn\" onClick={this.closeModal}>\r\n                        <FontAwesomeIcon icon={faTimes} size=\"2x\" />\r\n                    </button>\r\n                </Modal >\r\n\r\n            </div >\r\n        )\r\n    }\r\n}","import { Component } from 'react'\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react'\r\n\r\nclass _GoogleMap extends Component {\r\n\r\n    state = {\r\n        style: {\r\n            maxWidth: \"1280px\",\r\n            height: \"500px\",\r\n            overflowX: \"hidden\",\r\n            overflowY: \"hidden\"\r\n        },\r\n        pos: {\r\n            lat: 32.109333,\r\n            lng: 34.855499\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { lat, lng } = this.props.loc\r\n        const pos = { lat, lng }\r\n        this.setState({ pos })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"map-container flex\">\r\n\r\n                <Map\r\n                    google={this.props.google}\r\n                    zoom={12}\r\n                    initialCenter={{ lat: 13.736717, lng: 100.523186 }}\r\n                    center={this.state.pos}\r\n                    style={this.state.style}\r\n                >\r\n                    <Marker\r\n                        position={this.state.pos}\r\n                        name={'branch location'}\r\n                    />\r\n                    <InfoWindow />\r\n                </Map>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('AIzaSyCjIexPtvV4Y3_C8J8NR1yfnrQr5s1LibY')\r\n})(_GoogleMap)","import { Component } from 'react'\r\nimport { stayService } from '../services/stay-service'\r\nimport { AssetDetails } from '../cmps/AssetDetails.jsx'\r\nimport { StayRate } from '../cmps/StayRate.jsx'\r\nimport { AvatarSymbol } from '../cmps/AvatarSymbol.jsx'\r\nimport { StayBookModal } from '../cmps/StayBookModal.jsx'\r\nimport { Amenities } from '../cmps/Amenities.jsx'\r\nimport { LongTxt } from '../cmps/LongTxt.jsx'\r\nimport { Reviews } from '../cmps/Reviews.jsx'\r\nimport { GoogleMap } from '../cmps/GoogleMap.jsx'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart, faChevronRight } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport class StayDetails extends Component {\r\n\r\n    state = {\r\n        stay: {},\r\n        isShowMore: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setStayDetails()\r\n        window.scrollTo(0, 0)\r\n        document.body.classList.add('mini-header')\r\n        document.body.classList.remove('hide-mini-search')\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.body.classList.remove('header-home-mode-open')\r\n        document.body.classList.remove('header-onclick-mode')\r\n    }\r\n\r\n    async setStayDetails() {\r\n        const { id } = this.props.match.params\r\n        let stay = await stayService.getById(id)\r\n        this.setState({ stay })\r\n    }\r\n\r\n    isOverChars = (summary) => {\r\n        if (summary.length >= 150) return true\r\n        return false\r\n    }\r\n\r\n    render() {\r\n\r\n        const { stay } = this.state\r\n        const {\r\n            loc,\r\n            name,\r\n            type,\r\n            host,\r\n            imgUrls,\r\n            capacity,\r\n            houseRules,\r\n            amenities,\r\n            summary,\r\n            reviews\r\n        } = stay\r\n\r\n        if (!stay) return <h1>reloading</h1>\r\n\r\n        return (\r\n            <section className=\"stay-details-container\">\r\n                <div className=\"details-header-container\">\r\n                    <h1>{name}</h1>\r\n                    <div className=\"details-header-details flex justify-space-between\">\r\n                        <div className=\"details-header-desc flex\">\r\n                            <StayRate\r\n                                stay={stay}\r\n                                isShowReviews={true} />\r\n                            <span className=\"details-header-dot\">·</span>\r\n                            {loc && <a className=\"details-header-tags\">\r\n                                {loc.address}</a>}\r\n                        </div>\r\n                        <button className=\"details-header-save flex align-center\">\r\n                            <FontAwesomeIcon icon={faHeart} />\r\n                            Save\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {imgUrls && <div className=\"details-gallery-container\">{\r\n                    imgUrls.map((imgUrl, idx) => {\r\n                        return <div\r\n                            key={idx}\r\n                            className={`details-img-container img-${idx + 1}`}\r\n                        >\r\n                            <img src={imgUrl} />\r\n                        </div>\r\n                    })\r\n                }</div>}\r\n\r\n                <section className=\"host-main-container justify-space-between flex\">\r\n                    <div className=\"flex full column\">\r\n                        {host && <div className=\"host-header-container flex\">\r\n                            <div className=\"flex column full\">\r\n                                <h2>{type} hosted by {host.fullname}</h2>\r\n                                <span className=\"host-header-capacity\">Up to {capacity} guests</span>\r\n                            </div>\r\n                            <div>\r\n                                <AvatarSymbol />\r\n                            </div>\r\n                        </div>}\r\n\r\n                        <div>\r\n                            {houseRules && <AssetDetails\r\n                                type={type}\r\n                                houseRules={houseRules} />}\r\n                        </div>\r\n\r\n                        {summary && <div className=\"about-asset-desc\">\r\n                            {this.state.isShowMore ?\r\n                                <p>{summary}</p> : <LongTxt txt={summary} numOfChars={150} />}\r\n\r\n                            {this.isOverChars(summary) && <button onClick={() => {\r\n                                this.setState({ isShowMore: !this.state.isShowMore })\r\n                            }}>{this.state.isShowMore ? 'Show Less' : 'Show more'}\r\n                                <FontAwesomeIcon icon={faChevronRight} />\r\n                            </button>}\r\n                        </div>}\r\n\r\n                        {amenities && <div>\r\n                            <Amenities amenities={amenities} />\r\n                        </div>}\r\n                    </div>\r\n\r\n                    <div className=\"staybook-modal-container\">\r\n                        <StayBookModal stay={stay} />\r\n                    </div>\r\n                </section>\r\n\r\n                <section>\r\n                    {reviews && <Reviews\r\n                        stay={stay}\r\n                        reviews={reviews} />}\r\n                </section>\r\n\r\n                {loc && <section className=\"google-map-container\">\r\n                    <h2>Location</h2>\r\n                    <span>{loc.address}</span>\r\n                    <GoogleMap loc={loc} />\r\n                </section>}\r\n                \r\n            </section>\r\n        )\r\n    }\r\n}","export function AddStay() {\r\n    return (\r\n        <section>\r\n            <p>Add Stay</p>\r\n        </section>\r\n    )\r\n}","export function UserStays() {\r\n    return (\r\n        <section>\r\n            <p>User Stays</p>\r\n        </section>\r\n    )\r\n}","export function HostHomes() {\r\n    return (\r\n        <section>\r\n            <p>HostHomes</p>\r\n        </section>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nimport { LongTxt } from './LongTxt.jsx'\r\n\r\nexport function StayTrips({ orders, getStatusClassName }) {\r\n    // console.log('StayTrips orders', orders)\r\n    return (\r\n        <section className=\"stay-orders\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Check In</th>\r\n                        <th>Check Out</th>\r\n                        <th>City</th>\r\n                        <th>Total Price</th>\r\n                        <th>Details</th>\r\n                        <th>Status</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {orders.map(order => {\r\n                        const statusColor = getStatusClassName(order.status)\r\n                        return (\r\n                            <tr key={order._id}>\r\n                                <td><LongTxt txt={order.stay.name} numOfChars={20} /></td>\r\n                                <td>{order.startDate}</td>\r\n                                <td>{order.endDate}</td>\r\n                                <td>{order.city}</td>\r\n                                <td>{order.totalPrice}</td>\r\n                                <td className=\"order-details\"><Link to={`/stay/${order.stay._id}`}>Details</Link></td>\r\n                                <td className={statusColor}>{order.status}</td>\r\n                            </tr>\r\n                        )\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n    )\r\n}","export function Wishlist() {\r\n    return (\r\n        <section>\r\n            <p>Wishlist</p>\r\n        </section>\r\n    )\r\n}","import moment from 'moment'\r\n\r\nexport function HostOrdersPreview({ order, updateOrder }) {\r\n    const guests = order.guests.adults + order.guests.children\r\n    const defaultImgUrl = order.buyer.imgUrl ? order.buyer.imgUrl : 'https://ozgrozer.github.io/100k-faces/0/0/000924.jpg'\r\n\r\n    function onSetStatus(ev) {\r\n        const updatedOrder = { ...order }\r\n        updatedOrder.status = ev.target.name\r\n        updateOrder(updatedOrder);\r\n    }\r\n\r\n    return (\r\n        <div className=\"host-order-preview flex\">\r\n            <div className=\"img-container\">\r\n                <img src={defaultImgUrl} alt=\"user\" />\r\n            </div>\r\n            <div className=\"order-content\">\r\n                <h3>Requested by: {order.buyer.fullName}</h3>\r\n                <p>Expire in 12 hours</p>\r\n                <p>{guests} guests - {order.startDate} - {order.endDate} -\r\n                <span> {order.stay.name}</span>\r\n                </p>\r\n            </div>\r\n            {/* <p>{order.status}</p> */}\r\n            {order.status === 'pending' && <p><button className=\"accepted\" name=\"accepted\" onClick={onSetStatus}>Accept</button> / <button className=\"rejected\" name=\"rejected\" onClick={onSetStatus}>Reject</button></p>}\r\n            {order.status !== 'pending' && <p className={order.status}>{order.status}</p>}\r\n        </div>\r\n    )\r\n}","import { HostOrdersPreview } from '../cmps/HostOrdersPreview.jsx'\r\n\r\nexport function HostOrders({ hostOrders, updateOrder }) {\r\n    if (!hostOrders) return <h1>Loading...</h1>\r\n    return (\r\n        <section>\r\n            {hostOrders.map(order => {\r\n                return <HostOrdersPreview order={order} key={order._id} updateOrder={updateOrder} />\r\n            })}\r\n        </section>\r\n    )\r\n}\r\n","import { Component } from 'react'\r\nimport { NavLink, Route, Switch } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { getStays } from '../store/actions/stay.actions'\r\nimport { getUsers } from '../store/actions/user.actions'\r\nimport { getOrders, updateOrder } from '../store/actions/order.actions'\r\nimport { AddStay } from '../cmps/AddStay.jsx'\r\nimport { UserStays } from '../cmps/UserStays.jsx'\r\nimport { HostHomes } from '../cmps/HostHomes.jsx'\r\nimport { StayTrips } from '../cmps/StayTrips.jsx'\r\nimport { Wishlist } from '../cmps/Wishlist.jsx'\r\nimport { HostOrders } from '../cmps/HostOrders.jsx'\r\n\r\nclass _UserProfile extends Component {\r\n\r\n    componentDidMount() {\r\n        const { _id } = this.props.loggedInUser\r\n        // console.log('this.props.loggedInUser', this.props.loggedInUser)\r\n        this.props.getOrders(_id, 'user')\r\n    }\r\n\r\n    getStatusClassName = (status) => {\r\n        let classColor;\r\n\r\n        if (status === 'approved') {\r\n            classColor = 'approved'\r\n        } else if (status === 'pending') {\r\n            classColor = 'pending'\r\n        } else {\r\n            classColor = 'rejected'\r\n        }\r\n\r\n        return classColor\r\n    }\r\n\r\n    render() {\r\n        const { loggedInUser, orders, updateOrder } = this.props\r\n        const { isHost } = loggedInUser\r\n        let hostOrders = orders.filter(order => {\r\n            return order.host._id === loggedInUser._id\r\n        })\r\n        hostOrders = hostOrders.sort((order1, order2) => {\r\n            return order2.createdAt - order1.createdAt\r\n        })\r\n\r\n        return (\r\n\r\n            <section className=\"user-profile\">\r\n                {/* {console.log('orders', orders)} */}\r\n                <aside>\r\n                    <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/trips\">Trips</NavLink>\r\n                    {isHost && <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/orders\">Orders</NavLink>}\r\n                    {isHost && <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/myhomes\">My Homes</NavLink>}\r\n                    {isHost && <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/add\">Add stay</NavLink>}\r\n                    <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/mystays\">My Stays</NavLink>\r\n                    <NavLink activeClassName=\"user-aside-active\" to=\"/userprofile/wishlist\">Wishlist</NavLink>\r\n                </aside>\r\n                <main>\r\n                    <h1>Welcome, {loggedInUser.username}</h1>\r\n                    <Switch>\r\n                        <Route exact\r\n                            path=\"/userprofile/trips\"\r\n                            render={(props) => <StayTrips\r\n                                {...props}\r\n                                loggedInUser={loggedInUser}\r\n                                orders={orders}\r\n                                getStatusClassName={this.getStatusClassName} />}\r\n                        />\r\n                        <Route exact path=\"/userprofile/add\" component={AddStay} />\r\n                        <Route exact path=\"/userprofile/myhomes\" component={HostHomes} />\r\n                        <Route exact path=\"/userprofile/mystays\" component={UserStays} />\r\n                        <Route exact path=\"/userprofile/wishlist\" component={Wishlist} />\r\n                        <Route exact path=\"/userprofile/orders\" render={(props) => <HostOrders  {...props} hostOrders={hostOrders} updateOrder={updateOrder} />} />\r\n                    </Switch>\r\n\r\n                </main>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        orders: state.orderModule.orders\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n    getUsers,\r\n    getOrders,\r\n    updateOrder\r\n}\r\n\r\nexport const UserProfile = connect(mapStateToProps, mapDispatchToProps)(_UserProfile)","import { Home } from './pages/Home.jsx'\r\nimport { LoginSignup } from './pages/LoginSignup.jsx'\r\nimport { StayApp } from './pages/StayApp.jsx'\r\nimport { StayDetails } from './pages/StayDetails.jsx'\r\nimport { UserProfile } from './pages/UserProfile.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/stay/:id',\r\n        component: StayDetails,\r\n    },\r\n    {\r\n        path: '/stay',\r\n        component: StayApp,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginSignup,\r\n    },\r\n    {\r\n        path: '/signup',\r\n        component: LoginSignup,\r\n    },\r\n    {\r\n        path: '/userprofile',\r\n        component: UserProfile,\r\n    },\r\n    {\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n]","import { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { getStays } from '../store/actions/stay.actions'\r\n\r\nimport 'react-dates/initialize'\r\nimport 'react-dates/lib/css/_datepicker.css'\r\nimport { DateRangePicker } from 'react-dates'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass _StaySearch extends Component {\r\n\r\n    state = {\r\n        filterBy: {\r\n            city: '',\r\n            guest: 0\r\n        }\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const { name, value } = target\r\n        const { filterBy } = this.state\r\n        this.setState({ filterBy: { ...filterBy, [name]: value } })\r\n    }\r\n\r\n    onSubmitStay = ev => {\r\n        ev.preventDefault()\r\n        const { city, guest } = this.state.filterBy\r\n        const { startDate, endDate } = this.state\r\n        const filterBy = {\r\n            startDate: startDate?._d || '',\r\n            endDate: endDate?._d || '',\r\n            city,\r\n            guest: +guest\r\n        }\r\n        this.props.getStays(filterBy)\r\n    }\r\n\r\n    handleSearchMini = () => {\r\n        document.body.classList.add('header-onclick-mode')\r\n        document.addEventListener('mouseup', this.closeHeaderOnclickMode);\r\n    }\r\n\r\n    closeHeaderOnclickMode = ev => {\r\n        const node = this.props.node\r\n        if (node.current.contains(ev.target)) {\r\n            return\r\n        } else {\r\n            document.body.classList.remove('header-onclick-mode')\r\n            document.removeEventListener('mouseup', this.closeHeaderOnclickMode);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className=\"stay-search flex align-center\">\r\n\r\n                <div className=\"search-mini\"\r\n                    onClick={this.handleSearchMini}\r\n                >\r\n                    Start your search\r\n                    <FontAwesomeIcon icon={faSearch} />\r\n                </div>\r\n\r\n                <form\r\n                    className={`flex`}\r\n                    onSubmit={this.onSubmitStay}\r\n                >\r\n                    <div className=\"search-input country-input flex column justify-center\">\r\n                        <div className=\"location-label\">\r\n                            <label htmlFor=\"location\">Location</label>\r\n                        </div>\r\n                        <div className=\"city\">\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                name=\"city\"\r\n                                id=\"location\"\r\n                                placeholder=\"Where are you going?\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"separator-vertical\"></div>\r\n                    <div className=\"search-input date-input flex column justify-center\">\r\n                        <div className=\"dates-label\">\r\n                            <label>Dates</label>\r\n                        </div>\r\n                        <DateRangePicker\r\n                            startDateId=\"your_unique_start_date_id\"\r\n                            startDate={this.state.startDate}\r\n                            endDateId=\"your_unique_end_date_id\"\r\n                            endDate={this.state.endDate}\r\n                            onDatesChange={\r\n                                ({ startDate, endDate }) => this.setState({ startDate, endDate })}\r\n                            focusedInput={this.state.focusedInput}\r\n                            onFocusChange={focusedInput => this.setState({ focusedInput })}\r\n                            startDatePlaceholderText=\"Check in\"\r\n                            endDatePlaceholderText=\"Check out\"\r\n                            noBorder\r\n                            inputIconPosition=\"after\"\r\n                            small\r\n                        />\r\n                    </div>\r\n                    <div className=\"separator-vertical\"></div>\r\n                    <div className=\"search-input guest-input flex column justify-center\">\r\n                        <div className=\"guests-label\">\r\n                            <label htmlFor=\"guest\">Guests</label>\r\n                        </div>\r\n                        <div className=\"guest-input\">\r\n                            <input\r\n                                onChange={this.handleChange}\r\n                                autoComplete=\"off\"\r\n                                type=\"text\"\r\n                                name=\"guest\"\r\n                                id=\"guest\"\r\n                                placeholder=\"1 guest\" />\r\n                        </div>\r\n                    </div>\r\n                    <button>\r\n                        <FontAwesomeIcon icon={faSearch} size=\"2x\" />\r\n                    </button>\r\n                </form>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    getStays,\r\n}\r\n\r\nexport const StaySearch = connect(null, mapDispatchToProps)(_StaySearch)","import React, { Component } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { StaySearch } from './StaySearch'\r\nimport { connect } from 'react-redux'\r\nimport { onLogout } from '../store/actions/user.actions'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCampground } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport { AvatarSymbol } from './AvatarSymbol'\r\n\r\nclass _AppHeader extends Component {\r\n\r\n    state = {\r\n        node: React.createRef(),\r\n        isOpen: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n    }\r\n\r\n    onToggleModal = () => {\r\n        this.setState({ isOpen: !this.state.isOpen })\r\n        setTimeout(() => {\r\n            this.setState({ isOpen: false })\r\n        }, 5000)\r\n    }\r\n\r\n    render() {\r\n        const { loggedInUser, onLogout } = this.props\r\n        return (\r\n            <header className=\"flex\" ref={this.state.node}>\r\n                <nav className=\"nav-header flex align-center\">\r\n                    <NavLink to=\"/\">\r\n                        <h1 className=\"logo\">\r\n                            <FontAwesomeIcon icon={faCampground} size=\"2x\" />\r\n                            Homie\r\n                        </h1>\r\n                    </NavLink>\r\n                    <StaySearch node={this.state.node} />\r\n                    <ul className=\"nav-link clean-list flex align-center\">\r\n                        <li><NavLink to=\"/\">Become a host</NavLink></li>\r\n                        <li><NavLink to=\"/stay\">Explore</NavLink></li>\r\n                        <li className=\"flex align-center\">\r\n                            <div className=\"login-signup-btn flex align-center\"\r\n                                onClick={this.onToggleModal}\r\n                            >\r\n                                <FontAwesomeIcon icon={faBars} size=\"2x\" />\r\n                                {!loggedInUser && <FontAwesomeIcon icon={faUserCircle} size=\"2x\" />}\r\n                                {loggedInUser && <div className=\"avatar-container\">\r\n                                    <AvatarSymbol url={loggedInUser.imgUrl} />\r\n                                </div>}\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                    {this.state.isOpen &&\r\n                        <div className=\"user-modal flex\">\r\n                            <ul className=\"clean-list\">\r\n                                <li>\r\n                                    {loggedInUser && <NavLink to=\"/userprofile\">profile</NavLink>}\r\n                                    {!loggedInUser && <NavLink to=\"/login\">login</NavLink>}\r\n                                </li>\r\n                                <li>\r\n                                    {loggedInUser && <NavLink onClick={onLogout} to=\"/\">logout</NavLink>}\r\n                                    {!loggedInUser && <NavLink to=\"/signup\">signup</NavLink>}\r\n                                </li>\r\n                            </ul>\r\n                        </div>}\r\n                </nav>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onLogout,\r\n\r\n}\r\n\r\nexport const AppHeader = connect(mapStateToProps, mapDispatchToProps)(_AppHeader)","export function Footer() {\r\n    return (\r\n        <footer>\r\n            <p>© 2021 Homie, Inc. All rights reserved</p>\r\n        </footer>\r\n    )\r\n}","import './assets/styles/styles.scss'\r\n\r\nimport { Component } from 'react'\r\nimport { Route, Switch } from 'react-router-dom'\r\nimport { routes } from './routes'\r\n\r\nimport { AppHeader } from './cmps/AppHeader.jsx'\r\nimport { Footer } from './cmps/Footer.jsx'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { getStays } from './store/actions/stay.actions.js'\r\n\r\nexport class _App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.getStays(this.props.filterBy)\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"app main-container\" >\r\n        <AppHeader />\r\n        <Switch>\r\n          {routes.map(route =>\r\n            <Route\r\n              key={route.path}\r\n              component={route.component}\r\n              path={route.path} />)}\r\n        </Switch>\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    filterBy: state.stayModule.filterBy\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getStays,\r\n\r\n}\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App)","const initialState = {\r\n    stays: [],\r\n    filterBy: {}\r\n}\r\n\r\nexport function stayReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            return { ...state, stays: action.stays }\r\n        case 'ADD_STAY':\r\n            return { ...state, stays: [action.stay, ...state.stays] }\r\n        case 'UPDATE_STAY':\r\n            return { ...state, stays: [action.stay, ...state.stays.filter(stay => action.stay._id !== stay._id)] }\r\n        case 'REMOVE_STAY':\r\n            return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n        case 'SET_FILTER':\r\n            return { ...state, filterBy: { ...state.filterBy, ...action.filterBy } }\r\n        default:\r\n            return state\r\n    }\r\n}","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n \r\nconst initialState = {\r\n    loggedInUser: localLoggedinUser,\r\n    users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return { ...state, loggedInUser: action.user }\r\n        case 'REMOVE_USER':\r\n            return {\r\n                ...state,\r\n                users: state.users.filter(user => user._id !== action.userId)\r\n            }\r\n        case 'SET_USERS':\r\n            return { ...state, users: action.users }\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {\r\n    orders: []\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return { ...state, orders: action.orders }\r\n        case 'ADD_ORDER':\r\n            return { ...state, orders: [action.order, ...state.orders] }\r\n        case 'UPDATE_ORDER':\r\n            return { ...state, orders: [action.order, ...state.orders.filter(order => action.order._id !== order._id)] }\r\n        case 'REMOVE_ORDER':\r\n            return { ...state, orders: state.orders.filter(order => order._id !== action.orderId) }\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport { stayReducer } from './reducers/stay.reducer'\r\nimport { userReducer } from './reducers/user.reducer'\r\nimport { orderReducer } from './reducers/order.reducer'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n    stayModule: stayReducer,\r\n    userModule: userReducer,\r\n    orderModule: orderReducer,\r\n\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(ReduxThunk)))","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\n\r\nimport { App } from './App.jsx'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store.js'\r\n\r\nimport { SnackbarProvider } from 'notistack'\r\nimport Slide from '@material-ui/core/Slide'\r\n\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router >\r\n        <SnackbarProvider\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          TransitionComponent={Slide}\r\n          preventDuplicate\r\n          maxSnack={1}\r\n        >\r\n          <App />\r\n        </SnackbarProvider>\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}